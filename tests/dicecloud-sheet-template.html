<rolltemplate>
  <div class="sheet-rolltemplate-dicecloud">
    <!-- Character Header -->
    <div class="dicecloud-header">
      <h1>{{character_name}}</h1>
      <div class="character-basic">
        <span class="class-level">{{class}} {{level}}</span>
        <span class="race">{{race}}</span>
        <span class="alignment">{{alignment}}</span>
      </div>
    </div>

    <!-- Ability Scores -->
    <div class="abilities-section">
      <h3>Ability Scores</h3>
      <div class="abilities-grid">
        <div class="ability">
          <label>STR</label>
          <span class="score">{{strength}}</span>
          <span class="mod">({{strength_mod}})</span>
        </div>
        <div class="ability">
          <label>DEX</label>
          <span class="score">{{dexterity}}</span>
          <span class="mod">({{dexterity_mod}})</span>
        </div>
        <div class="ability">
          <label>CON</label>
          <span class="score">{{constitution}}</span>
          <span class="mod">({{constitution_mod}})</span>
        </div>
        <div class="ability">
          <label>INT</label>
          <span class="score">{{intelligence}}</span>
          <span class="mod">({{intelligence_mod}})</span>
        </div>
        <div class="ability">
          <label>WIS</label>
          <span class="score">{{wisdom}}</span>
          <span class="mod">({{wisdom_mod}})</span>
        </div>
        <div class="ability">
          <label>CHA</label>
          <span class="score">{{charisma}}</span>
          <span class="mod">({{charisma_mod}})</span>
        </div>
      </div>
    </div>

    <!-- Combat Stats -->
    <div class="combat-section">
      <h3>Combat</h3>
      <div class="combat-stats">
        <div class="stat">
          <label>Armor Class</label>
          <span>{{ac}}</span>
        </div>
        <div class="stat">
          <label>Hit Points</label>
          <span>{{hp}}/{{hp_max}}</span>
        </div>
        <div class="stat">
          <label>Speed</label>
          <span>{{speed}}</span>
        </div>
        <div class="stat">
          <label>Initiative</label>
          <span>{{initiative_bonus}}</span>
        </div>
        <div class="stat">
          <label>Proficiency Bonus</label>
          <span>{{proficiency}}</span>
        </div>
      </div>
    </div>

    <!-- Saving Throws -->
    <div class="saves-section">
      <h3>Saving Throws</h3>
      <div class="saves-grid">
        <div class="save">
          <label>STR Save</label>
          <span>{{strength_save_bonus}}</span>
        </div>
        <div class="save">
          <label>DEX Save</label>
          <span>{{dexterity_save_bonus}}</span>
        </div>
        <div class="save">
          <label>CON Save</label>
          <span>{{constitution_save_bonus}}</span>
        </div>
        <div class="save">
          <label>INT Save</label>
          <span>{{intelligence_save_bonus}}</span>
        </div>
        <div class="save">
          <label>WIS Save</label>
          <span>{{wisdom_save_bonus}}</span>
        </div>
        <div class="save">
          <label>CHA Save</label>
          <span>{{charisma_save_bonus}}</span>
        </div>
      </div>
    </div>

    <!-- Skills -->
    <div class="skills-section">
      <h3>Skills</h3>
      <div class="skills-grid">
        <div class="skill">
          <label>Acrobatics</label>
          <span>{{acrobatics_bonus}}</span>
        </div>
        <div class="skill">
          <label>Animal Handling</label>
          <span>{{animal_handling_bonus}}</span>
        </div>
        <div class="skill">
          <label>Arcana</label>
          <span>{{arcana_bonus}}</span>
        </div>
        <div class="skill">
          <label>Athletics</label>
          <span>{{athletics_bonus}}</span>
        </div>
        <div class="skill">
          <label>Deception</label>
          <span>{{deception_bonus}}</span>
        </div>
        <div class="skill">
          <label>History</label>
          <span>{{history_bonus}}</span>
        </div>
        <div class="skill">
          <label>Insight</label>
          <span>{{insight_bonus}}</span>
        </div>
        <div class="skill">
          <label>Intimidation</label>
          <span>{{intimidation_bonus}}</span>
        </div>
        <div class="skill">
          <label>Investigation</label>
          <span>{{investigation_bonus}}</span>
        </div>
        <div class="skill">
          <label>Medicine</label>
          <span>{{medicine_bonus}}</span>
        </div>
        <div class="skill">
          <label>Nature</label>
          <span>{{nature_bonus}}</span>
        </div>
        <div class="skill">
          <label>Perception</label>
          <span>{{perception_bonus}}</span>
        </div>
        <div class="skill">
          <label>Performance</label>
          <span>{{performance_bonus}}</span>
        </div>
        <div class="skill">
          <label>Persuasion</label>
          <span>{{persuasion_bonus}}</span>
        </div>
        <div class="skill">
          <label>Religion</label>
          <span>{{religion_bonus}}</span>
        </div>
        <div class="skill">
          <label>Sleight of Hand</label>
          <span>{{sleight_of_hand_bonus}}</span>
        </div>
        <div class="skill">
          <label>Stealth</label>
          <span>{{stealth_bonus}}</span>
        </div>
        <div class="skill">
          <label>Survival</label>
          <span>{{survival_bonus}}</span>
        </div>
      </div>
    </div>

    <!-- Features & Traits -->
    {{#features}}
    <div class="features-section">
      <h3>Features & Traits</h3>
      <div class="feature-list">
        {{#each features}}
        <div class="feature">
          <h4>{{name}}</h4>
          <p>{{description}}</p>
          {{#if uses}}
          <div class="uses">Uses: {{uses}}</div>
          {{/if}}
        </div>
        {{/each}}
      </div>
    </div>
    {{/features}}

    <!-- Spells -->
    {{#spells}}
    <div class="spells-section">
      <h3>Spells</h3>
      <div class="spell-list">
        {{#each spells}}
        <div class="spell">
          <h4>{{name}} (Level {{level}})</h4>
          <p><strong>School:</strong> {{school}}</p>
          <p><strong>Casting Time:</strong> {{castingTime}}</p>
          <p><strong>Range:</strong> {{range}}</p>
          <p><strong>Components:</strong> {{components}}</p>
          <p><strong>Duration:</strong> {{duration}}</p>
          <p>{{description}}</p>
          {{#if prepared}}
          <div class="prepared">✓ Prepared</div>
          {{/if}}
        </div>
        {{/each}}
      </div>
    </div>
    {{/spells}}

    <!-- Equipment -->
    {{#inventory}}
    <div class="inventory-section">
      <h3>Equipment</h3>
      <div class="inventory-list">
        {{#each inventory}}
        <div class="item">
          <h4>{{name}} {{#if quantity}}(x{{quantity}}){{/if}}</h4>
          {{#if weight}}<p><strong>Weight:</strong> {{weight}} lbs</p>{{/if}}
          <p>{{description}}</p>
          {{#if equipped}}<div class="equipped">✓ Equipped</div>{{/if}}
        </div>
        {{/each}}
      </div>
    </div>
    {{/inventory}}
  </div>
</rolltemplate>

<style>
.dicecloud-header {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  padding: 20px;
  border-radius: 8px;
  margin-bottom: 20px;
  text-align: center;
}

.dicecloud-header h1 {
  margin: 0 0 10px 0;
  font-size: 2em;
}

.character-basic {
  display: flex;
  justify-content: center;
  gap: 20px;
  font-size: 1.1em;
}

.abilities-section, .combat-section, .saves-section, .skills-section, 
.features-section, .spells-section, .inventory-section {
  background: #f8f9fa;
  border: 1px solid #dee2e6;
  border-radius: 8px;
  padding: 15px;
  margin-bottom: 15px;
}

.abilities-section h3, .combat-section h3, .saves-section h3, 
.skills-section h3, .features-section h3, .spells-section h3, 
.inventory-section h3 {
  margin-top: 0;
  color: #495057;
  border-bottom: 2px solid #667eea;
  padding-bottom: 5px;
}

.abilities-grid, .saves-grid, .skills-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  gap: 10px;
}

.ability, .save, .skill {
  background: white;
  padding: 10px;
  border-radius: 4px;
  border: 1px solid #e9ecef;
  text-align: center;
}

.ability label, .save label, .skill label {
  display: block;
  font-weight: bold;
  color: #6c757d;
  font-size: 0.9em;
}

.ability .score {
  font-size: 1.5em;
  font-weight: bold;
  color: #667eea;
}

.ability .mod {
  color: #28a745;
  font-weight: bold;
}

.combat-stats {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
  gap: 10px;
}

.stat {
  background: white;
  padding: 10px;
  border-radius: 4px;
  border: 1px solid #e9ecef;
  text-align: center;
}

.stat label {
  display: block;
  font-weight: bold;
  color: #6c757d;
  font-size: 0.9em;
}

.stat span {
  font-size: 1.2em;
  font-weight: bold;
  color: #667eea;
}

.feature, .spell, .item {
  background: white;
  padding: 15px;
  border-radius: 4px;
  border: 1px solid #e9ecef;
  margin-bottom: 10px;
}

.feature h4, .spell h4, .item h4 {
  margin-top: 0;
  color: #667eea;
}

.feature p, .spell p, .item p {
  margin-bottom: 5px;
}

.uses, .prepared, .equipped {
  background: #d4edda;
  color: #155724;
  padding: 5px 10px;
  border-radius: 4px;
  font-weight: bold;
  display: inline-block;
  margin-top: 10px;
}
</style>
