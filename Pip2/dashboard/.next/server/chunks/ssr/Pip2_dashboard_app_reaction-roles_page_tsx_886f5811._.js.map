{"version":3,"sources":["../../../../../../Pip2/dashboard/app/reaction-roles/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\n\r\ninterface ReactionRole {\r\n  messageId: string;\r\n  emoji: string;\r\n  roleId: string;\r\n  roleName?: string;\r\n}\r\n\r\nexport default function ReactionRolesPage() {\r\n  const [reactionRoles, setReactionRoles] = useState<Record<string, Record<string, string>>>({});\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    fetchReactionRoles();\r\n  }, []);\r\n\r\n  const fetchReactionRoles = async () => {\r\n    try {\r\n      const response = await fetch('/api/reaction-roles');\r\n      const data = await response.json();\r\n      setReactionRoles(data.messages || {});\r\n    } catch (error) {\r\n      console.error('Failed to fetch reaction roles:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <h1 className=\"text-3xl font-bold\">üé≠ Reaction Roles Management</h1>\r\n        <button\r\n          onClick={fetchReactionRoles}\r\n          className=\"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 transition\"\r\n        >\r\n          Refresh\r\n        </button>\r\n      </div>\r\n\r\n      <div className=\"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4\">\r\n        <h3 className=\"font-semibold mb-2\">‚ÑπÔ∏è How to Use</h3>\r\n        <ol className=\"list-decimal list-inside space-y-1 text-sm\">\r\n          <li>In Discord, use <code className=\"bg-blue-100 dark:bg-blue-900 px-1 rounded\">/reactionrole create</code> to create a message</li>\r\n          <li>Use <code className=\"bg-blue-100 dark:bg-blue-900 px-1 rounded\">/reactionrole add</code> to add emoji-to-role mappings</li>\r\n          <li>Users can then react to the message to self-assign roles</li>\r\n          <li>This dashboard shows all configured reaction roles</li>\r\n        </ol>\r\n      </div>\r\n\r\n      {loading ? (\r\n        <div className=\"text-center py-12\">\r\n          <div className=\"inline-block animate-spin rounded-full h-12 w-12 border-4 border-green-600 border-t-transparent\"></div>\r\n          <p className=\"mt-4 text-gray-600 dark:text-gray-400\">Loading reaction roles...</p>\r\n        </div>\r\n      ) : Object.keys(reactionRoles).length === 0 ? (\r\n        <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-12 text-center border border-gray-200 dark:border-gray-700\">\r\n          <div className=\"text-6xl mb-4\">üé≠</div>\r\n          <h2 className=\"text-2xl font-bold mb-2\">No Reaction Roles Yet</h2>\r\n          <p className=\"text-gray-600 dark:text-gray-400 mb-4\">\r\n            Get started by creating a reaction role message in Discord\r\n          </p>\r\n          <code className=\"bg-gray-100 dark:bg-gray-700 px-3 py-2 rounded inline-block\">\r\n            /reactionrole create title:\"Choose Your Roles\" description:\"React to get roles!\"\r\n          </code>\r\n        </div>\r\n      ) : (\r\n        <div className=\"space-y-4\">\r\n          {Object.entries(reactionRoles).map(([messageId, roles]) => (\r\n            <div\r\n              key={messageId}\r\n              className=\"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 border border-gray-200 dark:border-gray-700\"\r\n            >\r\n              <div className=\"flex items-start justify-between mb-4\">\r\n                <div>\r\n                  <h3 className=\"font-semibold text-lg\">Message ID: {messageId}</h3>\r\n                  <p className=\"text-sm text-gray-600 dark:text-gray-400\">\r\n                    {Object.keys(roles).length} role{Object.keys(roles).length !== 1 ? 's' : ''} configured\r\n                  </p>\r\n                </div>\r\n                <button\r\n                  onClick={() => navigator.clipboard.writeText(messageId)}\r\n                  className=\"text-sm bg-gray-100 dark:bg-gray-700 px-3 py-1 rounded hover:bg-gray-200 dark:hover:bg-gray-600 transition\"\r\n                >\r\n                  Copy ID\r\n                </button>\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                {Object.entries(roles).map(([emoji, roleId]) => (\r\n                  <div\r\n                    key={emoji}\r\n                    className=\"flex items-center justify-between bg-gray-50 dark:bg-gray-700 p-3 rounded\"\r\n                  >\r\n                    <div className=\"flex items-center space-x-4\">\r\n                      <span className=\"text-2xl\">{emoji.match(/^\\d+$/) ? 'üîπ' : emoji}</span>\r\n                      <div>\r\n                        <p className=\"font-mono text-sm text-gray-600 dark:text-gray-400\">\r\n                          Role ID: {roleId}\r\n                        </p>\r\n                        {emoji.match(/^\\d+$/) && (\r\n                          <p className=\"text-xs text-gray-500 dark:text-gray-500\">\r\n                            Custom emoji ID: {emoji}\r\n                          </p>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                    <button\r\n                      onClick={() => navigator.clipboard.writeText(roleId)}\r\n                      className=\"text-xs bg-gray-200 dark:bg-gray-600 px-2 py-1 rounded hover:bg-gray-300 dark:hover:bg-gray-500 transition\"\r\n                    >\r\n                      Copy Role ID\r\n                    </button>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n\r\n              <div className=\"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700\">\r\n                <p className=\"text-sm text-gray-600 dark:text-gray-400\">\r\n                  <strong>To modify:</strong> Use Discord commands\r\n                  <code className=\"bg-gray-100 dark:bg-gray-700 px-1 mx-1 rounded\">/reactionrole remove</code>\r\n                  or\r\n                  <code className=\"bg-gray-100 dark:bg-gray-700 px-1 mx-1 rounded\">/reactionrole delete</code>\r\n                </p>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n\r\n      {/* Help Section */}\r\n      <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 border border-gray-200 dark:border-gray-700\">\r\n        <h2 className=\"text-xl font-bold mb-4\">üìö Command Reference</h2>\r\n        <div className=\"space-y-3 text-sm\">\r\n          <div>\r\n            <code className=\"bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded font-mono\">\r\n              /reactionrole create title:\"...\" description:\"...\" color:#5865F2\r\n            </code>\r\n            <p className=\"text-gray-600 dark:text-gray-400 mt-1\">Create a new reaction role message</p>\r\n          </div>\r\n          <div>\r\n            <code className=\"bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded font-mono\">\r\n              /reactionrole add message_id:123 emoji:üé≤ role:@RoleName\r\n            </code>\r\n            <p className=\"text-gray-600 dark:text-gray-400 mt-1\">Add a role to a message</p>\r\n          </div>\r\n          <div>\r\n            <code className=\"bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded font-mono\">\r\n              /reactionrole list message_id:123\r\n            </code>\r\n            <p className=\"text-gray-600 dark:text-gray-400 mt-1\">List all roles on a message</p>\r\n          </div>\r\n          <div>\r\n            <code className=\"bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded font-mono\">\r\n              /reactionrole remove message_id:123 emoji:üé≤\r\n            </code>\r\n            <p className=\"text-gray-600 dark:text-gray-400 mt-1\">Remove a specific role</p>\r\n          </div>\r\n          <div>\r\n            <code className=\"bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded font-mono\">\r\n              /reactionrole delete message_id:123\r\n            </code>\r\n            <p className=\"text-gray-600 dark:text-gray-400 mt-1\">Delete all roles from a message</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}